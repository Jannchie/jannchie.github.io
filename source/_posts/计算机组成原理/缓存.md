# 缓存

## 局部性原理 / 局所性

程序在运行时，对数据的访问具有：

- 空间局部性：更可能使用存储位置相近的数据。
- 时间局部性：更可能使用最近访问过的数据。

## 地址结构

| tag  | index | offset |
| ---- | ----- | ------ |
| 校验 | 索引  | 位置   |


## Direct Mapped

一次只能找一个数据：

Cache结构：

- 每行一个block
- 载入数据时，填满整行block

|     | 00  | 01  | 10  | 11  |
| --- | --- | --- | --- | --- |
| 000 |     |     |     |     |
| 001 |     |     |     |     |
| 010 |     |     |     |     |
| 011 |     |     |     |     |
| 100 |     |     |     |     |
| 101 |     |     |     |     |
| 110 |     |     |     |     |
| 111 |     |     |     |     |

## Set Associative

2-Way

|     | 00  | 01  | 10  | 11  |     |     | 00  | 01  | 10  | 11  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 000 |     |     |     |     |     | 000 |     |     |     |     |
| 001 |     |     |     |     |     | 001 |     |     |     |     |
| 010 |     |     |     |     |     | 010 |     |     |     |     |
| 011 |     |     |     |     |     | 011 |     |     |     |     |
| 100 |     |     |     |     |     | 100 |     |     |     |     |
| 101 |     |     |     |     |     | 101 |     |     |     |     |
| 110 |     |     |     |     |     | 110 |     |     |     |     |
| 111 |     |     |     |     |     | 111 |     |     |     |     |

## Full Associative

一片Cache只有一个Block

命中率最高